<div id="bg">
  <div class="title">
    <h1 class="headings">OFFLINE MULTIPLAYER TYPING GAME</h1>
  </div>

  <section id="multiplayerSection" *ngIf="this.showDashboard">
    <!-- <span class="fle">
      <img src="assets/racing.gif" class="multiplayer-image" alt="" />
    </span> -->

    <div class="cars">
      <img src="assets/cars6.jpg" alt="Static: Alan Partridge - would it be rude to stop listening to you?" loading="lazy">
      <details open>
        <!-- added role=button to summary to resolve iOS funkiness -->
        <summary role="button" aria-label="static image"></summary>
        <div class="cars1">
          <img src="assets/racing.gif" alt="Animated: Alan Partridge - would it be rude to stop listening to you?" loading="lazy">
        </div>
      </details>
    </div>


    <div id="playArea">
      <div class="form__group">
        <input #playerCount type="number" class="form__input" name="playerCount" placeholder="Choose 2-8 players"
          pattern="[2-8]" min="2" max="8" value="2" required="" />
        <span class="validity"></span>
        <label for="number" class="form__label">Players Count</label>
      </div>
      <button class="playGame" [disabled]="!validInput" (click)="onSubmit()">
        Let's Play
      </button>
    </div>
  </section>

  <!-- Start of typer section -->
  <div *ngIf="showTyper">
    <section class="col1">
      <span> {{this.playerCount}}</span>
      <div class="widgets">
        <div class="dashboard">
          <div class="progress-bg timer">
            <span id="progress-label">{{ timer }}<span id="progress-label-sub">sec</span></span>
          </div>

          <mat-progress-spinner class="mat-spinner" [color]="progressColor" [diameter]="170" [strokeWidth]="14"
            [mode]="'determinate'" [value]="progressLabel">
          </mat-progress-spinner>

          <div class="progress-bg wpm">
            <span id="progress-label">{{ wpmLabel }}<span id="progress-label-sub">wpm</span></span>
          </div>

          <div class="accuracy-bg">
            <span id="accuracy-label">{{ accuracyVal }}<span id="accuracy-label-sub-percent">%</span>
            </span>
            <div id="accuracy-label-sub">accuracy</div>

            <div class="accuracy-bg-radials start"><b>____</b></div>
            <div class="accuracy-bg-radials middle"><b>___</b></div>
            <div class="accuracy-bg-radials end"><b>____</b></div>
          </div>

          <mat-progress-spinner class="accuracy-mat-spinner" [color]="accuracyColor" [diameter]="170" [strokeWidth]="14"
            [mode]="'determinate'" [value]="accuracyVal / 2">
          </mat-progress-spinner>

          <div id="spacer"></div>
        </div>
      </div>

      <div class="widgets">
        <app-typer [data]="typerText" (result)="typerFinish($event)" (wordUpdate)="wordUpdate()"
          (updateVal)="typerUpdate($event)" [typerActive]="isTyperEnabled"></app-typer>
      </div>

      <div class="card-container">
        <button id="reset" class="typerBtn" type="button" [disabled]="!timerFinishIndicator" (click)="playAgain()">
          Play Again
        </button>
        <button id="reset" class="typerBtn" type="button" [disabled]="!timerFinishIndicator" (click)="changeTyper()">
          Change Text
        </button>
      </div>
    </section>
  </div>
  <!-- End of typer section -->

  <!-- Start of results dashboard  -->
  <div class="resultsTable" *ngIf="this.showDashboard && results">
    <h1 class="headings">LAST GAME RESULTS</h1>

    <table>
      <thead>
        <tr>
          <th>PLAYER</th>
          <th>WPM</th>
          <th>ACCURACY</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let result of results">
          <th>{{ result.username }}</th>
          <td>{{ result.wpm }}</td>
          <td>{{ result.accuracy }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- End of results dashboard  -->
</div>
<!-- End of main div -->